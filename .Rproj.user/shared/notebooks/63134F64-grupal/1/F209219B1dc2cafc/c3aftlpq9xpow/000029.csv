"0","# Crear grupos de censo con case_when"
"0","datos_grupos <- election_data_rcs |> "
"0","  mutate("
"0","  grupo_censo = case_when("
"0","    censo <= 500 ~ ""1: ≤500"",                       # Primeros 3 rangos más pequeños"
"0","    censo > 500 & censo <= 2500 ~ ""2: 500-2.5"","
"0","    censo > 2500 & censo <= 4000 ~ ""3: 2.5k-4k"","
"0","    censo > 4000 & censo <= 7500 ~ ""4: 4k-7.5k"",    # Intermedios más finos"
"0","    censo > 7500 & censo <= 10000 ~ ""5: 7.5k-10k"","
"0","    censo > 10000 & censo <= 15000 ~ ""6: 10k-15k"","
"0","    censo > 15000 & censo <= 20000 ~ ""7: 15k-20k"","
"0","    censo > 20000 & censo <= 30000 ~ ""8: 20k-30k"",  # Más granularidad en intermedios"
"0","    censo > 30000 & censo <= 50000 ~ ""9: 30k-50k"","
"0","    censo > 50000 & censo <= 75000 ~ ""10: 50k-75k"","
"0","    censo > 75000 & censo <= 100000 ~ ""11: 75k-100k"","
"0","    censo > 100000 & censo <= 150000 ~ ""12: 100k-150k"", # Rango más amplio en superiores"
"0","    censo > 150000 & censo <= 250000 ~ ""13: 150k-250k"","
"0","    censo > 250000 & censo <= 500000 ~ ""14: 250k-500k"","
"0","    censo > 500000 ~ ""15: >500k"""
"0","  )"
"0",")|> "
"0","  group_by(grupo_censo) |> "
"0","  summarise("
"0","    participacion_media = median(participacion, na.rm = TRUE), # Media de participación"
"0","    participacion_sd = sd(participacion, na.rm = TRUE),     # Desviación estándar"
"0","    censo_medio = median(censo, na.rm = TRUE),                # Tamaño medio del censo en cada grupo"
"0","    n_municipios = n()                                      # Número de municipios en el grupo"
"0","  )"
"0",""
"0","# Visualizar los grupos"
"0","print(datos_grupos)"
